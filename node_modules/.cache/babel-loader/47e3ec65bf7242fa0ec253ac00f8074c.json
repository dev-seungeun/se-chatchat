{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspaces\\\\atom_workspace\\\\sesh-chatchat\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useEffect, useRef } from 'react';\nimport { HashRouter, Routes, Route } from 'react-router-dom';\nimport { authService } from \"./services/firebase\"; // import \"./styles.css\";\n\nimport Chat from \"./pages/Chat\";\nimport Room from \"./pages/Room\";\nimport SignUp from \"./pages/SignUp\";\nimport Login from \"./pages/Login\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  authenticated: false,\n  loading: true\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"GET_USER\":\n      return { ...state,\n        authenticated: action.result\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst usePushNotification = (title, options) => {\n  console.log(\"usePushNotification\");\n  console.log(title); // Notification이 지원되지 않는 브라우저가 있을 수 있기 때문에, 이를 대비해 Early return 문을 걸어준다.\n\n  if (!Notification) {\n    return;\n  }\n\n  console.log(\"0\"); // const fireNotif = () => {\n\n  console.log(Notification);\n  console.log(\"1\");\n  /* 권한 요청 부분 */\n\n  if (Notification.permission !== \"granted\") {\n    Notification.requestPermission().then(permission => {\n      if (permission === \"granted\") {\n        /* 권한을 요청받고 nofi를 생성해주는 부분 */\n        new Notification(title, options);\n      } else {\n        return;\n      }\n    });\n  } else {\n    /* 권한이 있을때 바로 noti 생성해주는 부분 */\n    console.log(\"2\"); // new Notification(title, options);\n  } // };\n  // return fireNotif;\n\n};\n\nfunction App() {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    authenticated\n  } = state;\n  useEffect(() => {\n    authService.onAuthStateChanged(user => {\n      if (user) {\n        dispatch({\n          type: \"GET_USER\",\n          result: true\n        });\n      } else {\n        dispatch({\n          type: \"GET_USER\",\n          result: false\n        });\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(HashRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(PublicRoute, {\n          authenticated: authenticated,\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(PublicRoute, {\n          authenticated: authenticated,\n          component: SignUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(PublicRoute, {\n          authenticated: authenticated,\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/chat\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          authenticated: authenticated,\n          component: Chat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/room\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          authenticated: authenticated,\n          component: Room\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n\n_c = App;\nexport default App;\nexport const useNotification = usePushNotification;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/workspaces/atom_workspace/sesh-chatchat/src/App.js"],"names":["React","useReducer","useEffect","useRef","HashRouter","Routes","Route","authService","Chat","Room","SignUp","Login","PublicRoute","PrivateRoute","initialState","authenticated","loading","reducer","state","action","type","result","usePushNotification","title","options","console","log","Notification","permission","requestPermission","then","App","dispatch","onAuthStateChanged","user","useNotification"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect, useRef  } from 'react';\nimport { HashRouter, Routes, Route  } from 'react-router-dom';\nimport { authService } from \"./services/firebase\";\n// import \"./styles.css\";\nimport Chat from \"./pages/Chat\";\nimport Room from \"./pages/Room\";\nimport SignUp from \"./pages/SignUp\";\nimport Login from \"./pages/Login\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n\nconst initialState = {\n  authenticated: false,\n  loading: true\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"GET_USER\":\n      return { ...state, authenticated: action.result };\n    default:\n      return state;\n  }\n}\n\n\nconst usePushNotification = (title, options) => {\n\n  console.log(\"usePushNotification\")\n  console.log(title)\n\n  // Notification이 지원되지 않는 브라우저가 있을 수 있기 때문에, 이를 대비해 Early return 문을 걸어준다.\n  if (!Notification) {\n    return;\n  }\n\n  console.log(\"0\")\n  // const fireNotif = () => {\n  console.log(Notification)\n  console.log(\"1\")\n    /* 권한 요청 부분 */\n    if (Notification.permission !== \"granted\") {\n      Notification.requestPermission().then((permission) => {\n        if (permission === \"granted\") {\n          /* 권한을 요청받고 nofi를 생성해주는 부분 */\n          new Notification(title, options);\n        } else {\n          return;\n        }\n      });\n    } else {\n      /* 권한이 있을때 바로 noti 생성해주는 부분 */\n      console.log(\"2\")\n      // new Notification(title, options);\n    }\n  // };\n  // return fireNotif;\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { authenticated } = state;\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        dispatch({\n          type: \"GET_USER\",\n          result: true,\n        });\n      } else {\n        dispatch({\n          type: \"GET_USER\",\n          result: false,\n        });\n      }\n    });\n  }, []);\n\n  return (\n    <HashRouter>\n      <Routes>\n\n        <Route\n          path=\"/\"\n          element={<PublicRoute authenticated={authenticated} component={Login} />}\n        />\n\n        <Route\n          path=\"/signup\"\n          element={<PublicRoute authenticated={authenticated} component={SignUp} />}\n        />\n\n        <Route\n          path=\"/login\"\n          element={<PublicRoute authenticated={authenticated} component={Login} />}\n        />\n\n        <Route\n          path=\"/chat\"\n          element={<PrivateRoute authenticated={authenticated} component={Chat} />}\n        />\n\n        <Route\n          path=\"/room\"\n          element={<PrivateRoute authenticated={authenticated} component={Room} />}\n        />\n\n      </Routes>\n    </HashRouter>\n  );\n}\n\nexport default App;\nexport const useNotification = usePushNotification;;\n"]},"metadata":{},"sourceType":"module"}