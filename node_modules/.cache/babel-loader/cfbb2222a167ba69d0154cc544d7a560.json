{"ast":null,"code":"import{database,database_set,database_ref,database_on_value}from\"../services/firebase\";import{onValue,onChildAdded,onChildChanged,onChildRemoved}from\"firebase/database\";export function sendChat(data){return database_set(database_ref(database,'chats/sesh/'+data.timestamp),{message:data.message,timestamp:data.timestamp,email:data.email,uid:data.uid});}export function getChats(){var chats=[];var chatRef=database_ref(database,\"chats/sesh\");onValue(chatRef,function(snapshot){snapshot.forEach(function(row){chats.push(row.val());});});// onChildAdded(chatRef, (snapshot) => {\n//   snapshot.forEach((row) => {\n//     chats.push(row.val());\n//   });\n// });\n// onChildChanged(chatRef, (snapshot) => {\n//   snapshot.forEach((row) => {\n//     chats.push(row.val());\n//   });\n// });\nreturn chats;}export var chatOnValue=onValue;export var chatOnChildAdded=onChildAdded;export var chatOnChildChanged=onChildChanged;export var chatOnChildRemoved=onChildRemoved;","map":{"version":3,"sources":["C:/workspaces/atom_workspace/SESH-chatchat/src/helpers/database.js"],"names":["database","database_set","database_ref","database_on_value","onValue","onChildAdded","onChildChanged","onChildRemoved","sendChat","data","timestamp","message","email","uid","getChats","chats","chatRef","snapshot","forEach","row","push","val","chatOnValue","chatOnChildAdded","chatOnChildChanged","chatOnChildRemoved"],"mappings":"AAAA,OAASA,QAAT,CAAmBC,YAAnB,CAAiCC,YAAjC,CAA+CC,iBAA/C,KAAwE,sBAAxE,CACA,OAASC,OAAT,CAAkBC,YAAlB,CAAgCC,cAAhC,CAAgDC,cAAhD,KAAsE,mBAAtE,CAEA,MAAO,SAASC,CAAAA,QAAT,CAAkBC,IAAlB,CAAwB,CAC7B,MAAOR,CAAAA,YAAY,CAACC,YAAY,CAACF,QAAD,CAAW,cAAcS,IAAI,CAACC,SAA9B,CAAb,CAAuD,CACxEC,OAAO,CAAEF,IAAI,CAACE,OAD0D,CAExED,SAAS,CAAED,IAAI,CAACC,SAFwD,CAGxEE,KAAK,CAAEH,IAAI,CAACG,KAH4D,CAIxEC,GAAG,CAAEJ,IAAI,CAACI,GAJ8D,CAAvD,CAAnB,CAMD,CAED,MAAO,SAASC,CAAAA,QAAT,EAAoB,CACzB,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAMC,CAAAA,OAAO,CAAGd,YAAY,CAACF,QAAD,CAAW,YAAX,CAA5B,CACAI,OAAO,CAACY,OAAD,CAAU,SAACC,QAAD,CAAc,CAC7BA,QAAQ,CAACC,OAAT,CAAiB,SAACC,GAAD,CAAS,CACxBJ,KAAK,CAACK,IAAN,CAAWD,GAAG,CAACE,GAAJ,EAAX,EACD,CAFD,EAGD,CAJM,CAAP,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAON,CAAAA,KAAP,CACD,CAED,MAAO,IAAMO,CAAAA,WAAW,CAAGlB,OAApB,CACP,MAAO,IAAMmB,CAAAA,gBAAgB,CAAGlB,YAAzB,CACP,MAAO,IAAMmB,CAAAA,kBAAkB,CAAGlB,cAA3B,CACP,MAAO,IAAMmB,CAAAA,kBAAkB,CAAGlB,cAA3B","sourcesContent":["import { database, database_set, database_ref, database_on_value } from \"../services/firebase\";\r\nimport { onValue, onChildAdded, onChildChanged, onChildRemoved } from \"firebase/database\";\r\n\r\nexport function sendChat(data) {\r\n  return database_set(database_ref(database, 'chats/sesh/'+data.timestamp), {\r\n    message: data.message,\r\n    timestamp: data.timestamp,\r\n    email: data.email,\r\n    uid: data.uid\r\n  });\r\n}\r\n\r\nexport function getChats() {\r\n  let chats = [];\r\n  const chatRef = database_ref(database, \"chats/sesh\");\r\n  onValue(chatRef, (snapshot) => {\r\n    snapshot.forEach((row) => {\r\n      chats.push(row.val());\r\n    });\r\n  });\r\n\r\n  // onChildAdded(chatRef, (snapshot) => {\r\n  //   snapshot.forEach((row) => {\r\n  //     chats.push(row.val());\r\n  //   });\r\n  // });\r\n  // onChildChanged(chatRef, (snapshot) => {\r\n  //   snapshot.forEach((row) => {\r\n  //     chats.push(row.val());\r\n  //   });\r\n  // });\r\n  return chats;\r\n}\r\n\r\nexport const chatOnValue = onValue;\r\nexport const chatOnChildAdded = onChildAdded;\r\nexport const chatOnChildChanged = onChildChanged;\r\nexport const chatOnChildRemoved = onChildRemoved;\r\n"]},"metadata":{},"sourceType":"module"}